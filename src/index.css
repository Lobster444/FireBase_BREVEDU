@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Apply Inter font with optimized features globally */
  html {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  
  body {
    /* Enable Inter's single-story 'a' and improved readability features */
    font-feature-settings: 'cv11' 1, 'liga' 1, 'calt' 1;
  }
  
  /* Optimize font rendering across browsers */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

/* Fix for persistent focus/active states on links */
@layer base {
  a:focus:not(:focus-visible) {
    outline: none;
  }
  
  a:active {
    outline: none;
  }
  
  button:focus:not(:focus-visible) {
    outline: none;
  }
  
  button:active {
    outline: none;
  }
}

/* Custom focus styles for better accessibility */
@layer utilities {
  .focus-reset {
    @apply focus:outline-none focus-visible:outline-none active:outline-none;
  }
}

/* Enhanced typography utilities with Inter features */
@layer utilities {
  .font-feature-numeric {
    font-feature-settings: 'tnum' 1, 'salt' 1, 'ss02' 1;
  }
  
  .font-feature-display {
    font-feature-settings: 'cv11' 1, 'ss01' 1, 'liga' 1, 'calt' 1;
  }
  
  .font-feature-default {
    font-feature-settings: 'liga' 1, 'calt' 1, 'cv11' 1;
  }
}

/* Headspace-inspired breathing animation */
@keyframes breathe {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

/* Gentle card breathing animation */
@keyframes card-breathe {
  0%, 100% { transform: scale(1) translateY(0); }
  50% { transform: scale(1.01) translateY(-1px); }
}

/* Custom easing curves for Headspace-style motion */
@layer utilities {
  .ease-out-cubic {
    transition-timing-function: cubic-bezier(0.33, 1, 0.68, 1);
  }
  
  .ease-headspace {
    transition-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
}